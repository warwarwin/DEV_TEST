"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.destinationServiceCache = void 0;
const cache_1 = require("../cache");
const destination_cache_1 = require("./destination-cache");
const DestinationServiceCache = (cache) => ({
    retrieveDestinationsFromCache: (targetUrl, decodedJwt) => cache.get((0, destination_cache_1.getDestinationCacheKey)(decodedJwt, targetUrl, destination_cache_1.IsolationStrategy.Tenant)),
    cacheRetrievedDestinations: (destinationServiceUri, decodedJwt, destinations) => {
        const key = (0, destination_cache_1.getDestinationCacheKey)(decodedJwt, destinationServiceUri, destination_cache_1.IsolationStrategy.Tenant);
        cache.set(key, { entry: destinations });
    },
    clear: () => {
        cache.clear();
    },
    getCacheInstance: () => cache
});
/**
 * @internal
 */
exports.destinationServiceCache = DestinationServiceCache(new cache_1.Cache(300000));
//# sourceMappingURL=destination-service-cache.js.map